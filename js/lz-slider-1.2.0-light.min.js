(function(f){f.extend({isArray:function(h){return Object.prototype.toString.call(h)==="[object Array]";},isObject:function(h){return Object.prototype.toString.call(h)==="[object Object]";
}});var e=function(h){this.$ele=f(h);this.param=this.$ele.data("lzslider-param");this.status=this.$ele.data("lzslider-status");this.imgBox=this.$ele.data("lzslider-imgBox");
this.img=this.$ele.data("lzslider-img");};e.prototype.setEvent=function(){var h=this,j=this.param;if(f.isArray(j.event)){f.each(j.event,function(k,l){h[l]&&h[l]();
});}else{h[j.event]&&h[j.event]();}};e.prototype.btn=function(){var p=this.$ele,j=this.param,l=this.status,k=this.imgBox,m=this.img,n=l.imgLen,o=0,q=(j.dir=="left"||j.dir=="right")?l.imgW:l.imgH;
var h=f("<ul class='"+j.btnCls[0]+"'></ul>");p.append(h.get(0));pointInBox=f("<li class='"+j.btnCls[1]+"'></li>");h.append(pointInBox.get(0));point="<div class='"+j.btnCls[2]+"'></div>";
for(i=0;i<l.lastLen;pointInBox.append(point),i++){}o=h.find("div").eq(0).outerWidth(true)*n;pointInBox.css("width",o).find("div").eq(0).addClass(j.btnCls[3]);
h.find("div").off(".lzslider").on("click.lzslider",function(r){if(l.flag){if(l.cPoint!=f(this).index()){l.cPoint=f(this).index();p.sliderExcute();}}});
};e.prototype.arrow=function(){var k=this.$ele,m=this.param,j=this.status,l=j.imgLen;var h=f("<ul class='"+m.arrowCls[0]+"'></ul>");k.append(h.get(0));
if(m.arrowStyle){arrowP="<li class='"+m.arrowCls[1]+"'>&lt;</li><li class='"+m.arrowCls[2]+"'>&gt;</li>";}else{arrowP="<li class='"+m.arrowCls[1]+"'></li><li class='"+m.arrowCls[2]+"'></li>";
}h.append(arrowP);h.find("li").eq(0).off(".lzslider").on("click.lzslider",function(n){if(j.flag){j.cPoint-=m.num;k.sliderExcute();}});h.find("li").eq(1).off(".lzslider").on("click.lzslider",function(n){if(j.flag){j.cPoint+=m.num;
k.sliderExcute();}});};var g=function(h){this.$ele=f(h);this.status=this.$ele.data("lzslider-status");this.param=this.$ele.data("lzslider-param");this.imgBox=this.$ele.data("lzslider-imgBox");
this.img=this.$ele.data("lzslider-img");};g.prototype.calBoxLen=function(){var n=this.$ele,o=this.param,h=this.status,m=this.img,l=0,j=0;h.arrLen=[0];if(o.dir=="left"||o.dir=="right"){f.each(m,function(k,p){l+=f(p).outerWidth(true);
h.arrLen.push(l);});}else{f.each(m,function(k,p){l+=f(p).outerHeight(true);h.arrLen.push(l);});}h.boxLen=(o.dir=="left"||o.dir=="right")?parseFloat(n.css("width")):parseFloat(n.css("height"));
while(h.arrLen[j++]<=l-h.boxLen){h.lastLen=j;}return l;};g.prototype.autoPlay=function(){var j=this.$ele,h=this.status,k=this.param;if(h.flag){(k.dir=="left"||k.dir=="up")?(h.cPoint+=k.num):(h.cPoint-=k.num);
j.sliderExcute();}};g.prototype.indexChange=function(){var h=this.status,k=this.param,j=h.lastLen;(!k.cycle&&h.cPoint>j-1)&&(h.cPoint=j-1);(!k.cycle&&h.cPoint<0)&&(h.cPoint=0);
(k.cycle&&h.sPonit!=j-1&&h.cPoint>j-1)&&(h.cPoint=j-1);(k.cycle&&h.sPonit==j-1&&h.cPoint>j-1)&&(h.cPoint=0);(k.cycle&&h.sPonit!=0&&h.cPoint<0)&&(h.cPoint=0);
(k.cycle&&h.sPonit==0&&h.cPoint<0)&&(h.cPoint=j-1);};g.prototype.calMoveLen=function(){var h=this.status;return h.arrLen[h.cPoint];};g.prototype.excute=function(){var j=this.status,l=this.param,k=this.imgBox,h=this.calMoveLen(),m=this.$ele.find("."+l.btnCls[0]).find("div");
if(m){m.removeClass(l.btnCls[3]).eq(j.cPoint).addClass(l.btnCls[3]);}(l.dir=="left"||l.dir=="right")&&k.stop().animate({marginLeft:-h},l.speed);(l.dir=="up"||l.dir=="down")&&k.stop().animate({marginTop:-h},l.speed);
j.sPonit=j.cPoint;};g.prototype.onProgress=function(){var j=this,h=this.status,k=this.param;j.indexChange();j.excute();if(h.cPoint==h.lastLen-1&&k._onLast){k._onLast.call(this,k,h);
}k._onSwitch&&k._onSwitch.call(this,k,h);h.flag=false;setTimeout(function(){h.flag=true;},k.speed);};var a=function(j,h){this.$ele=f(j);this.$ele.data("lzslider-param",this.initParam(h));
this.$ele.data("lzslider-imgBox",this.$ele.children().first());this.$ele.data("lzslider-img",this.$ele.data("lzslider-imgBox").children());this.$ele.data("lzslider-status",{flag:true,mouseH:false,sPonit:0,cPoint:0,arrLen:[],boxLen:0,imgLen:this.$ele.data("lzslider-img").length,lastLen:0,timer:null});
};a.prototype.layout=function(){var k=this.$ele,h=k.data("lzslider-status"),l=k.data("lzslider-param"),j=k.data("lzslider-imgBox");len=k.get(0).sliderexcute.calBoxLen();
k.css("position")=="static"&&k.css("position","relative");(l.dir=="left"||l.dir=="right")?j.css("width",len):j.css("height",len);};a.prototype.initEvent=function(){var m=this.$ele,k=m.get(0),h=m.data("lzslider-status"),n=m.data("lzslider-param"),j=m.data("lzslider-imgBox"),l=new e(m);
f(window).resize(function(){var o=k.sliderexcute.calBoxLen();(n.dir=="left"||n.dir=="right")?j.css("width",o):j.css("height",o);});m.off(".lzslider");m.on("mouseenter.lzslider",function(){clearInterval(h.timer);
h.timer=null;h.mouseH=true;}).on("mouseleave.lzslider",function(){n.auto&&(h.timer=setInterval(k.sliderexcute.autoPlay.bind(k.sliderexcute),n.interval));
h.mouseH=false;});l.setEvent();n.auto&&(h.timer=setInterval(k.sliderexcute.autoPlay.bind(k.sliderexcute),n.interval));};a.prototype.initParam=function(h){var j={dir:"left",speed:600,interval:3000,event:["arrow"],auto:true,cycle:true,num:1,btnCls:["lz-sliderPoint-box","lz-sliderPoint","lz-sliderPoint-point","lz-sliderPoint-hover"],arrowCls:["lz-sliderBtn","lz-sliderBtn-left","lz-sliderBtn-right"],arrowStyle:true,_onSwitch:null,_onLast:null};
j=f.extend({},j,h);if(this.$ele.data("slider-param")){f.extend({},j,this.$ele.data("slider-param"));}return j;};f.fn.sliderExcute=function(){var h=f(this).get(0);
h.sliderexcute.onProgress();};f.fn.lzslider=function(h){var j=f(this);f.each(j,function(k,m){var l=new a(m,h,b,c,d);m.sliderexcute=new g(m);l.layout();
l.initEvent();});return j;};})(jQuery);